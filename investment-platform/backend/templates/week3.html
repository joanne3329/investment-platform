{% extends "base.html" %}
{% block content %}
<div class="container mt-5 text-center">
  <h2>{{ title }}</h2>
  <p class="mt-3">é€™è£¡æ˜¯ Week3ï¼šè‚¡ç¥¨åˆ†æèˆ‡ç­–ç•¥ï¼ˆæœ¬åœ° Hugging Face æ¨¡å‹ï¼šGPT2 Mediumï¼‰</p>

  <!-- LLM äº’å‹•å€ -->
  <div class="mt-4 p-3 border rounded">
    <h4>ğŸ’¡ å•å•é¡Œï¼Œç²å¾—å³æ™‚å›é¥‹</h4>
    <textarea id="userInput" rows="4" class="form-control" placeholder="è¼¸å…¥ä½ çš„å•é¡Œ..."></textarea>
    <button class="btn btn-primary mt-2" onclick="askLLM()">é€å‡º</button>
    <pre id="reply" class="text-start mt-3"></pre>
  </div>

  <a href="/map" class="btn btn-secondary mt-4">è¿”å›å­¸ç¿’åœ°åœ–</a>
</div>

<script>
async function askLLM() {
  const query = document.getElementById("userInput").value;
  document.getElementById("reply").innerText = "æ€è€ƒä¸­...";

  const res = await fetch("/ask", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ query })
  });

  const data = await res.json();
  document.getElementById("reply").innerText = data.answer;
}
</script>
{% endblock %}
